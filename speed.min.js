(function(){"use strict";var n,r,t,e,o,u,i,l,a,c,s;l=function(n,r){return r instanceof n},c=function(n,r){return null==r&&(r="object"),typeof n===r},n={Boolean:!1,String:"",Object:{},Array:[],Function:function(){},Number:function(){var n;return n=new Number,n["void"]=!0,n}()},t={Undefined:function(n){return void 0===n},Null:function(n){return null===n},Function:function(n){return c(n,"function")},Boolean:function(n){return c(n,"boolean")},String:function(n){return c(n,"string")},Array:function(n){return c(n)&&l(Array,n)},RegExp:function(n){return c(n)&&l(RegExp,n)},Date:function(n){return c(n)&&l(Date,n)},Number:function(n){return c(n,"number")&&n===n||c(n)&&l(Number,n)},Object:function(n){return!(!c(n)||null===n||l(Boolean,n)||l(Number,n)||l(Array,n)||l(RegExp,n)||l(Date,n))},NaN:function(n){return c(n,"number")&&n!==n},Defined:function(n){return void 0!==n}},t.StringOrNumber=function(n){return t.String(n)||t.Number(n)},e=s={parseIntBase:10},u=function(r){var t;return t=function(n){switch(r){case"Number":if(s.isNumber(n=parseInt(n,s.parseIntBase))&&!n["void"])return n;break;case"String":if(s.isStringOrNumber(n))return n+"";break;default:if(e["is"+r](n))return n}},function(e,o){return null!=e&&void 0!==(e=t(e))?e:null!=o&&void 0!==(o=t(o))?o:n[r]}},a=function(n,r,e){var o,u,i;if(null==e&&(e=[]),e.length<1)return n===t.Undefined;for(u=0,i=e.length;i>u;u++)if(o=e[u],n(o)===r)return r;return!r},o=!0,function(){var r,i,l;l=[];for(r in t)i=t[r],l.push(function(r,t){return e["is"+r]=t,e["not"+r]=function(n){return!t(n)},e["has"+r]=function(){return a(t,o,arguments)},e["all"+r]=function(){return a(t,!o,arguments)},r in n?e["force"+r]=u(r):void 0}(r,i));return l}(),i=function(n,r,t){var e,o;null==n&&(n={});for(e in r)o=r[e],s.isObject(o)&&i(n[e],o,t),t&&n.hasOwnProperty(e)||(n[e]=o);return n},s.append=function(n,r){return i(s.forceObject(n),s.forceObject(r),!0)},r=function(){function n(n){s.append(this,n),this.callbacks={},this.anonymusCount=0}var r,t,e,o;return t=function(n,r,t){var e,o,u,i,l;if(null==r&&(r=3),null==t&&(t="."),""===(n=s.forceString(n)))return"";if(u=n.length-1,e=n[u--],0>u)return e;for(i=r,o=l=u;0>=u?0>=l:l>=0;o=0>=u?++l:--l)--i%r===0&&(e=t+e,i=r),e=n[o]+e;return e},r=function(n,t){var e,o,u;if(null==t&&(t=20),t-=n.length,e="",t>0)for(o=u=1;t>=1?t>=u:u>=t;o=t>=1?++u:--u)e+=" ";return r.right?e+n:n+e},r.right=!0,e=function(r){return r>n.maxCalls?(console.log("You are trying to run more than "+t(n.maxCalls)+" calls, increase Speed.maxCalls if you really want this."),console.log("Aborting.."),!0):void 0},o=function(){var r,t,e,o;for(o=[],r=t=1,e=n.warmupCycles;e>=1?e>=t:t>=e;r=e>=1?++t:--t)o.push(r=r);return o},n.formatInterval=3,n.formatChar=".",n.details=!1,n.rounds=1,n.calls=1,n.maxCalls=1e8,n.warmupCycles=1e6,n.run=function(u,i,l,a,c){var f,d,m,g,b,h,p,v;if(null==c&&(c="anonymus"),!(u=s.forceFunction(u,null)))return console.log(c);if(l=s.forceNumber(l,n.rounds),i=s.forceNumber(i,n.calls),a=s.forceBoolean(a,n.details),!e(l*i)){for(console.log('*speed-test* -> "'+c+'", run '+t(l)+" rounds "+t(i)+" calls"),o(),g=Date.now(),b=v=1;l>=1?l>=v:v>=l;b=l>=1?++v:--v){for(d=1,h=Date.now();d++<i;)u();m=Date.now(),a&&console.log("round: "+b+": "+r(m-h+" ms",9))}return p=Date.now()-g,f=t(~~(p/l)),p=t(p),console.log("average time for "+r(t(i)+" calls : ")+r(f+" ms",9)),console.log("total time for   "+r(t(i*l)+" calls : ")+r(p+" ms",9)),console.log()}},n.prototype.add=function(n,r){return s.isFunction(n)&&(r=n,n="anonymus-"+ ++this.anonymusCount),!this.callbacks[n]&&s.isFunction(r)&&(this.callbacks[n]=r),this},n.prototype.run=function(r,t){var e,o;this.add(r,t),o=this.callbacks;for(r in o)e=o[r],n.run(e,this.calls,this.rounds,this.details,r);return this},n}(),"undefined"!=typeof window&&null!==window?window.Speed=r:"undefined"!=typeof module&&null!==module&&(module.exports=r)}).call(this);