(function(){"use strict";var n,r,t,e,u,o,i,l,a,c,s;l=function(n,r){return r instanceof n},c=function(n,r){return null==r&&(r="object"),typeof n===r},n={Boolean:!1,String:"",Object:{},Array:[],Function:function(){},Number:function(){var n;return n=new Number,n["void"]=!0,n}()},t={Undefined:function(n){return void 0===n},Null:function(n){return null===n},Function:function(n){return c(n,"function")},Boolean:function(n){return c(n,"boolean")},String:function(n){return c(n,"string")},Array:function(n){return c(n)&&l(Array,n)},RegExp:function(n){return c(n)&&l(RegExp,n)},Date:function(n){return c(n)&&l(Date,n)},Number:function(n){return c(n,"number")&&n===n||c(n)&&l(Number,n)},Object:function(n){return!(!c(n)||null===n||l(Boolean,n)||l(Number,n)||l(Array,n)||l(RegExp,n)||l(Date,n))},NaN:function(n){return c(n,"number")&&n!==n},Defined:function(n){return void 0!==n}},t.StringOrNumber=function(n){return t.String(n)||t.Number(n)},e=s={parseIntBase:10},o=function(r){var t;return t=function(n){switch(r){case"Number":if(s.isNumber(n=parseInt(n,s.parseIntBase))&&!n["void"])return n;break;case"String":if(s.isStringOrNumber(n))return n+"";break;default:if(e["is"+r](n))return n}},function(e,u){return null!=e&&void 0!==(e=t(e))?e:null!=u&&void 0!==(u=t(u))?u:n[r]}},a=function(n,r,e){var u,o,i;if(null==e&&(e=[]),e.length<1)return n===t.Undefined;for(o=0,i=e.length;i>o;o++)if(u=e[o],n(u)===r)return r;return!r},u=!0,function(){var r,i,l;l=[];for(r in t)i=t[r],l.push(function(r,t){return e["is"+r]=t,e["not"+r]=function(n){return!t(n)},e["has"+r]=function(){return a(t,u,arguments)},e["all"+r]=function(){return a(t,!u,arguments)},r in n?e["force"+r]=o(r):void 0}(r,i));return l}(),i=function(n,r,t){var e,u;null==n&&(n={});for(e in r)u=r[e],s.isObject(u)&&i(n[e],u,t),t&&n.hasOwnProperty(e)||(n[e]=u);return n},s.append=function(n,r){return i(s.forceObject(n),s.forceObject(r),!0)},r=function(){function n(n){s.append(this,n),this.callbacks={},this.anonymusCount=0}var r,t,u,o,i;return t=function(n,r,t){var e,u,o,i,l;if(null==r&&(r=3),null==t&&(t="."),""===(n=s.forceString(n)))return"";if(o=n.length-1,e=n[o--],0>o)return e;for(i=r,u=l=o;0>=o?0>=l:l>=0;u=0>=o?++l:--l)--i%r===0&&(e=t+e,i=r),e=n[u]+e;return e},r=function(n,t){var e,u,o;if(null==t&&(t=20),t-=n.length,e="",t>0)for(u=o=1;t>=1?t>=o:o>=t;u=t>=1?++o:--o)e+=" ";return r.right?e+n:n+e},r.right=!0,o=function(r){return r>n.maxCalls?(console.log("You are trying to run more than "+t(n.maxCalls)+" calls, increase Speed.maxCalls if you really want this."),console.log("Aborting.."),!0):void 0},i=function(){var r,t,e,u;for(u=[],r=t=1,e=n.warmupCycles;e>=1?e>=t:t>=e;r=e>=1?++t:--t)u.push(r=r);return u},u=function(n,r,t){return s.isFunction(r)&&(t=r,r="anonymus-"+ ++n.anonymusCount),[r,t]},n.Types=e,n.details=!1,n.rounds=1,n.calls=1,n.maxCalls=1e8,n.warmupCycles=1e6,n.run=function(e,u,l,a,c){var f,d,m,g,h,b,p,v;if(null==c&&(c="anonymus"),!(e=s.forceFunction(e,null)))return console.log(c);if(l=s.forceNumber(l,n.rounds),u=s.forceNumber(u,n.calls),a=s.forceBoolean(a,n.details),!o(l*u)){for(console.log('*speed.js* -> "'+c+'", run '+t(l)+" rounds "+t(u)+" calls"),i(),g=Date.now(),h=v=1;l>=1?l>=v:v>=l;h=l>=1?++v:--v){for(d=1,b=Date.now();d++<u;)e();m=Date.now(),a&&console.log("round: "+h+": "+r(m-b+" ms",9))}return p=Date.now()-g,f=t(~~(p/l)),p=t(p),console.log("average time for "+r(t(u)+" calls : ")+r(f+" ms",9)),console.log("total time for   "+r(t(u*l)+" calls : ")+r(p+" ms",9)),console.log()}},n.prototype.add=function(n,r){var t;return t=u(this,n,r),n=t[0],r=t[1],!this.callbacks[n]&&s.isFunction(r)&&(this.callbacks[n]=r),this},n.prototype.run=function(r,t){var e,o,i;if(o=u(this,r,t),r=o[0],t=o[1],null!=r)n.run(t,this.calls,this.rounds,this.details,r);else{i=this.callbacks;for(r in i)e=i[r],n.run(e,this.calls,this.rounds,this.details,r)}return this},n}(),"undefined"!=typeof window&&null!==window?window.Speed=r:"undefined"!=typeof module&&null!==module&&(module.exports=r)}).call(this);