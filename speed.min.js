(function(){"use strict";var n,r,t,e,u,o,i,l,a,c,s;a=function(n,r){return r instanceof n},s=function(n,r){return null==r&&(r="object"),typeof n===r},n={Boolean:!1,String:"",Object:{},Array:[],Function:function(){},Number:function(){var n;return n=new Number,n["void"]=!0,n}()},t={Undefined:function(n){return void 0===n},Null:function(n){return null===n},Function:function(n){return s(n,"function")},Boolean:function(n){return s(n,"boolean")},String:function(n){return s(n,"string")},Array:function(n){return s(n)&&a(Array,n)},RegExp:function(n){return s(n)&&a(RegExp,n)},Date:function(n){return s(n)&&a(Date,n)},Number:function(n){return s(n,"number")&&n===n||s(n)&&a(Number,n)},Object:function(n){return!(!s(n)||null===n||a(Boolean,n)||a(Number,n)||a(Array,n)||a(RegExp,n)||a(Date,n))},NaN:function(n){return s(n,"number")&&n!==n},Defined:function(n){return void 0!==n}},t.StringOrNumber=function(n){return t.String(n)||t.Number(n)},e=u={parseIntBase:10},i=function(r){var t;return t=function(n){switch(r){case"Number":if(u.isNumber(n=parseInt(n,u.parseIntBase))&&!n["void"])return n;break;case"String":if(u.isStringOrNumber(n))return n+"";break;default:if(e["is"+r](n))return n}},function(e,u){return null!=e&&void 0!==(e=t(e))?e:null!=u&&void 0!==(u=t(u))?u:n[r]}},c=function(n,r,e){var u,o,i;if(null==e&&(e=[]),e.length<1)return n===t.Undefined;for(u=0,o=e.length;o>u;u++)if(i=e[u],n(i)===r)return r;return!r},o=!0,function(){var r,u,l;l=[];for(r in t)u=t[r],l.push(function(r,t){return e["is"+r]=t,e["not"+r]=function(n){return!t(n)},e["has"+r]=function(){return c(t,o,arguments)},e["all"+r]=function(){return c(t,!o,arguments)},r in n?e["force"+r]=i(r):void 0}(r,u));return l}(),l=function(n,r,t){var e,o;null==n&&(n={});for(e in r)o=r[e],u.isObject(o)&&l(n[e],o,t),t&&n.hasOwnProperty(e)||(n[e]=o);return n},u.append=function(n,r){return l(u.forceObject(n),u.forceObject(r),!0)},r=function(){function n(n){u.append(this,n),this.callbacks={},this.anonymusCount=0}var r,t,o,i,l;return t=function(n,r,t){var e,o,i,l,a,c;if(null==r&&(r=3),null==t&&(t="."),""===(n=u.forceString(n)))return"";if(l=n.length-1,e=n[l--],0>l)return e;for(a=r,i=o=c=l;0>=c?0>=o:o>=0;i=0>=c?++o:--o)--a%r===0&&(e=t+e,a=r),e=n[i]+e;return e},r=function(n,t){var e,u,o,i;if(null==t&&(t=20),t-=n.length,e="",t>0)for(o=u=1,i=t;i>=1?i>=u:u>=i;o=i>=1?++u:--u)e+=" ";return r.right?e+n:n+e},r.right=!0,i=function(r){return r>n.maxCalls?(console.log("You are trying to run more than "+t(n.maxCalls)+" calls, increase Speed.maxCalls if you really want this."),console.log("Aborting.."),!0):void 0},l=function(){var r,t,e,u;for(u=[],t=r=1,e=n.warmupCycles;e>=1?e>=r:r>=e;t=e>=1?++r:--r)u.push(t=t);return u},o=function(n,r,t){return u.isFunction(r)&&(t=r,r="anonymus-"+ ++n.anonymusCount),[r,t]},n.Types=e,n.details=!1,n.rounds=1,n.calls=1,n.maxCalls=1e8,n.warmupCycles=1e6,n.run=function(e,o,a,c,s){var f,d,m,g,h,b,p,v,y;if(null==s&&(s="anonymus"),!(e=u.forceFunction(e,null)))return console.log(s);if(a=u.forceNumber(a,n.rounds),o=u.forceNumber(o,n.calls),c=u.forceBoolean(c,n.details),!i(a*o)){for(console.log('*speed.js* -> "'+s+'", '+t(a)+" rounds "+t(o)+" calls"),l(),h=Date.now(),p=g=1,b=a;b>=1?b>=g:g>=b;p=b>=1?++g:--g){for(d=0,v=Date.now();d++<o;)e();m=Date.now(),c&&console.log("round: "+p+": "+r(m-v+" ms",9))}return y=Date.now()-h,f=t(~~(y/a)),y=t(y),console.log("average time for "+r(t(o)+" calls : ")+r(f+" ms",9)),console.log("total time for   "+r(t(o*a)+" calls : ")+r(y+" ms",9)),console.log()}},n.prototype.add=function(n,r){var t;return t=o(this,n,r),n=t[0],r=t[1],!this.callbacks[n]&&u.isFunction(r)&&(this.callbacks[n]=r),this},n.prototype.run=function(r,t){var e,u,i;if(u=o(this,r,t),r=u[0],t=u[1],null!=r)n.run(t,this.calls,this.rounds,this.details,r);else{i=this.callbacks;for(r in i)e=i[r],n.run(e,this.calls,this.rounds,this.details,r)}return this},n}(),"undefined"!=typeof module&&null!==module?module.exports=r:"undefined"!=typeof window&&null!==window&&(window.Speed=r)}).call(this);